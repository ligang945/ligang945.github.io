---
title: 家庭服务器搭建
date: 2023-11-04 21:06:10
tags:
- Home Server
- NAS
- Jellyfin
- aria2
categories: 生活
---

> 穷玩车，富玩表，傻逼玩电脑

今天就来玩电脑 😄

“家庭服务器”听上去很唬人，实际上根据功能多少，复杂度差异很大。而我最主要是看电影

## 演变过程

从看电影到搭建家庭服务器，我经历了如下阶段

### 黑铁时代

- 电脑

   最开始上大学的时候，很简单，就直接在电脑上下电影、看电影

- 路由器 + U盘

   刚毕业工作时，智能手机开始普及，我买了智能手机，后来又买了电视，开始琢磨怎么在手机、电视上看电脑上下载的电影

   最简单的就是电脑上下载完之后复制到 U 盘上，然后 U 盘插电视上看。但是这样插拔 U 盘很麻烦，而且手机上没法插 U 盘，得另一个方案，连接数据线复制到手机上，再看

   再后来，小米出了一款路由器，可以插 U 盘、开启 Samba 共享，这样同一个网络下的电脑、电视、手机就可以共享文件了。电脑下载完了 Samba 上传到 U 盘，手机、电视上就可以通过 Samba 看电影，比到处插拔 U 盘方便多了

   后来小米为了赚更多的钱，推出了家庭硬盘类的产品（迅雷也有类似产品），不再生产可以插 U 盘的路由器，这个方案就随着更换路由器失效了

- 流媒体

   再后来，流媒体盛行，爱优腾大行其道，手机、电视直接看流媒体，非常方便，我也很长一段时间不再折腾下载电影了

### 白银时代
- 轻 NAS

   这两年，爱优腾越来越没节操，广告越来越多，画质越来越假，片子越来越烂，我重建私人影音库的想法也越来越强烈

   这时我对 NAS 的了解也逐渐多了起来，决定以 NAS 为中心，搭建一套影音库

   可是专业的 NAS 太贵，群晖、威联通裸机价格动辄 2000+、4000+，再加上硬盘，那价格简直太酸爽

   挑来挑去，选中某厂的单盘位轻 NAS，只要 499，再插上电脑淘汰下来的 1T 硬盘，一个穷逼影音库就搭建起来了

   这个产品整体使用体验还是很不错的，甚至超预期。Samba、APFS、DLNA、离线下载、相册同步，这些基本功能都有。外网远程访问、文件生成分享链接这些我预期之外的功能也有

### 黄金时代

随着国内国际形势变化，网络隐私、安全情况也在恶化，我不再敢使用成品 NAS 了，尤其是手头上的某厂产品。不透明的硬件、软件，让我极其没有安全感

于是决定使用 Linux 小主机 + 小型硬盘阵列，自建一套 NAS。这个硬件方案比 DIY NAS 的门槛又要低一点，买成品的小主机 + 硬盘阵列 + 硬盘，一下就组装好了

软件上，得益于 Linux 开放丰富的生态，还可以方便的搭建各种其他服务，但我比不想全部服务都私有化搭建，一些安全可靠的云服务还是继续使用，比如相册备份、知识库、代码库、密码库，我还是使用云服务，至于智能家居，我觉得还不够成熟，暂时不折腾

最终搭建的软件服务如下：

 - jellyfin 影音库
 - aria2 下载工具
 - audiobookshelf 有声书库
 - filebrowser 网页端文件浏览器

jellyfin 真乃神器，CS 架构真的省去了很多电影信息刮削的成本，只在服务端刮削一次，手机、电视、 xbox、电视盒子都可以用了

之前用轻 NAS 没法自己安装软件，在手机、电视、 xbox、电视盒子上分别安装 NovaPlayer（神器）或者 kodi（徒有虚名，架构老旧），重复刮削，真的很折腾

~~最后附上一张我的影音库~~ 版权问题，不附了 😄